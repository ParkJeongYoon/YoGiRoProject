<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper
  PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
  "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
  
<mapper namespace="user">
   <select id="selectUser" parameterType="userVO" resultType="userVO">
   select userid, username, usernickname, userpassword, useremail, userphonenumber
   from user
   <where>
      <if test="userid!=null">
         and userid = #{userid}
      </if>
      <!-- <if test="usernickname!=null">
         and usernickname = #{usernickname}
      </if> -->
      <if test="userpassword!=null">
         and userpassword = #{userpassword}
      </if>
      <!-- <if test="useremail!=null">
         and useremail = #{useremail}
      </if> -->
   </where>
   </select>
   <select id="selectUser_info" parameterType="userVO"
		resultType="userVO">
		select userid, username, usernickname, userpassword,
		useremail, userphonenumber
		from user
		where
         userid = #{userid}
         and userpassword = #{userpassword}
    
	</select>
   <insert id="insertUser" parameterType="userVO">
      insert into 
      user(username, usernickname, userid, userpassword, useremail, userphonenumber)
      values(#{username}, #{usernickname}, #{userid}, #{userpassword}, #{useremail}, #{userphonenumber})
   </insert>
   <update id="updateuser" parameterType="userVO">
      update user
      <set>
         <if test="uesrid!=null">
         and username = #{username}
         </if>
         <if test="usernickname!=null">
         and usernickname = #{usernickname}
         </if>
         <if test="userpassword!=null">
         and userpassword = #{userpassword}
         </if>
         <if test="useremail!=null">
         and useremail = #{useremail}
         </if>
         <if test="userphonenumber!=null">
         and userphonenumber = #{userphonenumber}
         </if>
      </set>
      where userid=#{userid}
   </update>
   <delete id="deleteuser" parameterType="userVO">
      delete from user where user=#{userid}
   </delete>
	<!-- 비밀번호 체크 -->
	<select id="CheckPw" resultType="int">
		select 
			count(*)
		from member
		where userid=#{userid} and userpassword=#{userpassword}
	</select>
</mapper>