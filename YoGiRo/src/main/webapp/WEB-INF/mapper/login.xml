<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper
  PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
  "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
  
<mapper namespace="member">
   <select id="selectMember" parameterType="memberVO" resultType="memberVO">
   select userid, username, usernickname, userpassword, useremail, userphonenumber
   from user
   <where>
      <if test="uesrid!=null">
         and userid = #{userid}
      </if>
      <if test="usernickname!=null">
         and usernickname = #{usernickname}
      </if>
      <if test="userpassword!=null">
         and userpassword = #{userpassword}
      </if>
      <if test="useremail!=null">
         and useremail = #{useremail}
      </if>
   </where>
   </select>
   <insert id="insertMember" parameterType="memberVO">
      insert into member(userid, username, usernickname, userpassword, useremail, userphonenumber)
      value(#{userid}, #{username}, #{usernickname}, #{userpassword}, #{useremail}, #{userphonenumber})
   </insert>
   <update id="updateMember" parameterType="memberVO">
      update user
      <set>
         <if test="uesrid!=null">
         and username = #{username}
         </if>
         <if test="usernickname!=null">
         and usernickname = #{usernickname}
         </if>
         <if test="userpassword!=null">
         and userpassword = #{userpassword}
         </if>
         <if test="useremail!=null">
         and useremail = #{useremail}
         </if>
         <if test="userphonenumber!=null">
         and userphonenumber = #{userphonenumber}
         </if>
      </set>
      where userid=#{userid}
   </update>
   <delete id="deleteMember" parameterType="memberVO">
      delete from user where user=#{userid}
   </delete>
</mapper>